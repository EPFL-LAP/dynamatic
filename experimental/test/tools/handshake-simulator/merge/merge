// NOTE: Assertions have been autogenerated by utils/generate-test-checks.py
// RUN: dynamatic-opt %s --exp-test-handshake-simulator="path-to-tests=%S/tests.json" --split-input-file | FileCheck %s

// CHECK-LABEL:   handshake.func @merge
handshake.func @merge(%arg0: !handshake.channel<i32>, %arg1: !handshake.channel<i32>, %arg2: !handshake.channel<i32>, %start: !handshake.control<>) -> !handshake.channel<i32> {
  %merge1 = merge %arg0, %arg1, %arg2 : <i32>
  end %merge1 : <i32>
}