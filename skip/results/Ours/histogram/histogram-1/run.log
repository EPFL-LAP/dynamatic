[INFO] Compiled source to affine
[INFO] Ran memory analysis
[INFO] Compiled affine to scf
[INFO] Compiled scf to cf
[INFO] Applied standard transformations to cf
[INFO] Applied Dynamatic transformations to cf
[INFO] Marked memory accesses with the corresponding interfaces in cf
[INFO] Compiled cf to handshake
[INFO][SKIP] Created Skip Conditions
[INFO][SKIP] Created Waiting Signals
[INFO][SKIP] Gated Successor Accesses
[INFO][SKIP] Dependency graph written to /beta/rouzbeh/hope/dynamatic/skip/runs/run_2025-12-16_11-45-22/histogram-1/out/comp/histogram_DEP_G.dot
[INFO][SKIP] Inserted Out with LSQs circuit successfully! 
[INFO] Applied transformations to handshake with skippable sequentializer
[INFO] Applied transformations to handshake
[INFO] Built kernel for profiling
[INFO] Ran kernel for profiling
[INFO] Profiled cf-level
[INFO] Running smart buffer placement with CP = 15.000 and algorithm = 'cpbuf'
[INFO] Placed smart buffers
[INFO] Canonicalized handshake
[INFO] Created histogram DOT
[INFO] Converted histogram DOT to PNG
[INFO] Created histogram_CFG DOT
[INFO] Converted histogram_CFG DOT to PNG
[INFO] Lowered to HW
[INFO] Compilation succeeded
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> set-clock-period 15   
dynamatic> compile --skippable-seq-n 1 --buffer-algorithm cpbuf --fork-fifo-size 15
dynamatic> write-hdl
dynamatic> exit

Goodbye!
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
Initial BASELINE Cycles: None
buffer2 ----> 15
buffer2      max_len = 15
buffer3 ----> 15
buffer3      max_len = 15
buffer4 ----> 15
buffer4      max_len = 15
buffer5 ----> 6
buffer5      max_len = 6
buffer6 ----> 0
buffer6      max_len = 0
buffer7 ----> 1
buffer7      max_len = 1
buffer8 ----> 7
buffer8      max_len = 7
buffer9 ----> 7
buffer9      max_len = 7
buffer10 ----> 0
buffer10     max_len = 0
buffer11 ----> 6
buffer11     max_len = 6
buffer12 ----> 0
buffer12     max_len = 0
buffer13 ----> 6
buffer13     max_len = 6
buffer14 ----> 1
buffer14     max_len = 1
buffer15 ----> 15
buffer15     max_len = 15
buffer16 ----> 15
buffer16     max_len = 15
buffer17 ----> 15
buffer17     max_len = 15
buffer18 ----> 14
buffer18     max_len = 14
buffer19 ----> 0
buffer19     max_len = 0
buffer20 ----> 15
buffer20     max_len = 15
buffer21 ----> 14
buffer21     max_len = 14
buffer22 ----> 6
buffer22     max_len = 6
buffer23 ----> 1
buffer23     max_len = 1
buffer24 ----> 15
buffer24     max_len = 15
buffer25 ----> 14
buffer25     max_len = 14
buffer26 ----> 0
buffer26     max_len = 0

=== Applying MLIR modifications (remove) ===
[REMOVE] buffer10 (max_len=0)
[REMOVE] buffer12 (max_len=0)
[REMOVE] buffer19 (max_len=0)
[REMOVE] buffer26 (max_len=0)
[REMOVE] buffer6 (max_len=0)
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.

=== Running BASELINE simulation after initial resize ===
BASELINE Cycles: 4018

=== Applying Buffer Removal Optimization ===
MLIR file backed up to: skip/runs/run_2025-12-16_11-45-22/histogram-1/out/comp/handshake_transformed.mlir.bak

=== Applying Buffer Resize Optimization to size 0 ===
Processed 0/20 until now
[TRY REMOVE] buffer2
[TRY REMOVE] buffer3
[TRY REMOVE] buffer4
[TRY REMOVE] buffer5
[TRY REMOVE] buffer7
[TRY REMOVE] buffer8
[TRY REMOVE] buffer9
[TRY REMOVE] buffer11
[TRY REMOVE] buffer13
[TRY REMOVE] buffer14
[TRY REMOVE] buffer15
[TRY REMOVE] buffer16
[TRY REMOVE] buffer17
[TRY REMOVE] buffer18
[TRY REMOVE] buffer20
[TRY REMOVE] buffer21
[TRY REMOVE] buffer22
[TRY REMOVE] buffer23
[TRY REMOVE] buffer24
[TRY REMOVE] buffer25
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 9008
[TRIAL FAILED] Performance hurt. Reverting and recursing on 20 buffers.
Processed 0/20 until now
[TRY REMOVE] buffer2
[TRY REMOVE] buffer3
[TRY REMOVE] buffer4
[TRY REMOVE] buffer5
[TRY REMOVE] buffer7
[TRY REMOVE] buffer8
[TRY REMOVE] buffer9
[TRY REMOVE] buffer11
[TRY REMOVE] buffer13
[TRY REMOVE] buffer14
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5514
[TRIAL FAILED] Performance hurt. Reverting and recursing on 10 buffers.
Processed 0/20 until now
[TRY REMOVE] buffer2
[TRY REMOVE] buffer3
[TRY REMOVE] buffer4
[TRY REMOVE] buffer5
[TRY REMOVE] buffer7
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5514
[TRIAL FAILED] Performance hurt. Reverting and recursing on 5 buffers.
Processed 0/20 until now
[TRY REMOVE] buffer2
[TRY REMOVE] buffer3
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4018 (Baseline: 4018)
[OPTIMIZE] Success: Resized 2 buffers to 0: ['buffer2', 'buffer3']
Processed 2/20 until now
[TRY REMOVE] buffer4
[TRY REMOVE] buffer5
[TRY REMOVE] buffer7
[TRIAL FAILED] Performance hurt. Reverting and recursing on 3 buffers.
Processed 2/20 until now
[TRY REMOVE] buffer4
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 4516
Processed 3/20 until now
[TRY REMOVE] buffer5
[TRY REMOVE] buffer7
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 2 buffers to 0: ['buffer5', 'buffer7']
Processed 5/20 until now
[TRY REMOVE] buffer8
[TRY REMOVE] buffer9
[TRY REMOVE] buffer11
[TRY REMOVE] buffer13
[TRY REMOVE] buffer14
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 5 buffers to 0: ['buffer8', 'buffer9', 'buffer11', 'buffer13', 'buffer14']
Processed 10/20 until now
[TRY REMOVE] buffer15
[TRY REMOVE] buffer16
[TRY REMOVE] buffer17
[TRY REMOVE] buffer18
[TRY REMOVE] buffer20
[TRY REMOVE] buffer21
[TRY REMOVE] buffer22
[TRY REMOVE] buffer23
[TRY REMOVE] buffer24
[TRY REMOVE] buffer25
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 9008
[TRIAL FAILED] Performance hurt. Reverting and recursing on 10 buffers.
Processed 10/20 until now
[TRY REMOVE] buffer15
[TRY REMOVE] buffer16
[TRY REMOVE] buffer17
[TRY REMOVE] buffer18
[TRY REMOVE] buffer20
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 9008
[TRIAL FAILED] Performance hurt. Reverting and recursing on 5 buffers.
Processed 10/20 until now
[TRY REMOVE] buffer15
[TRY REMOVE] buffer16
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5016
[TRIAL FAILED] Performance hurt. Reverting and recursing on 2 buffers.
Processed 10/20 until now
[TRY REMOVE] buffer15
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5016
Processed 11/20 until now
[TRY REMOVE] buffer16
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 0: ['buffer16']
Processed 12/20 until now
[TRY REMOVE] buffer17
[TRY REMOVE] buffer18
[TRY REMOVE] buffer20
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 9008
[TRIAL FAILED] Performance hurt. Reverting and recursing on 3 buffers.
Processed 12/20 until now
[TRY REMOVE] buffer17
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 0: ['buffer17']
Processed 13/20 until now
[TRY REMOVE] buffer18
[TRY REMOVE] buffer20
[TRIAL FAILED] Performance hurt. Reverting and recursing on 2 buffers.
Processed 13/20 until now
[TRY REMOVE] buffer18
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 0: ['buffer18']
Processed 14/20 until now
[TRY REMOVE] buffer20
Processed 15/20 until now
[TRY REMOVE] buffer21
[TRY REMOVE] buffer22
[TRY REMOVE] buffer23
[TRY REMOVE] buffer24
[TRY REMOVE] buffer25
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5514
[TRIAL FAILED] Performance hurt. Reverting and recursing on 5 buffers.
Processed 15/20 until now
[TRY REMOVE] buffer21
[TRY REMOVE] buffer22
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 5514
[TRIAL FAILED] Performance hurt. Reverting and recursing on 2 buffers.
Processed 15/20 until now
[TRY REMOVE] buffer21
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 0: ['buffer21']
Processed 16/20 until now
[TRY REMOVE] buffer22
Processed 17/20 until now
[TRY REMOVE] buffer23
[TRY REMOVE] buffer24
[TRY REMOVE] buffer25
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 3 buffers to 0: ['buffer23', 'buffer24', 'buffer25']

Optimization complete. Successfully resized 16 buffers to 0

=== Applying Buffer Resize Optimization to size 1 ===
Processed 0/4 until now
[TRY RESZIZE] buffer4 to 1
[TRY RESZIZE] buffer15 to 1
[TRY RESZIZE] buffer20 to 1
[TRY RESZIZE] buffer22 to 1
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 4518
[TRIAL FAILED] Performance hurt. Reverting and recursing on 4 buffers.
Processed 0/4 until now
[TRY RESZIZE] buffer4 to 1
[TRY RESZIZE] buffer15 to 1
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 2 buffers to 1: ['buffer4', 'buffer15']
Processed 2/4 until now
[TRY RESZIZE] buffer20 to 1
[TRY RESZIZE] buffer22 to 1
[TRIAL FAILED] Performance hurt. Reverting and recursing on 2 buffers.
Processed 2/4 until now
[TRY RESZIZE] buffer20 to 1
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF FAIL] Cycles increased: 4018 -> 4518
Processed 3/4 until now
[TRY RESZIZE] buffer22 to 1
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 1: ['buffer22']

Optimization complete. Successfully resized 3 buffers to 1

=== Applying Buffer Resize Optimization to size 2 ===
Processed 0/1 until now
[TRY RESZIZE] buffer20 to 2
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[PERF OK] Cycles: 4020 (Baseline: 4018)
[OPTIMIZE] Success: Resized 1 buffers to 2: ['buffer20']

Optimization complete. Successfully resized 1 buffers to 2

=== Applying Buffer Resize Optimization to size 3 ===

Optimization complete. Successfully resized 0 buffers to 3

=== Applying Buffer Resize Optimization to size 4 ===

Optimization complete. Successfully resized 0 buffers to 4

=== Applying Buffer Resize Optimization to size 5 ===

Optimization complete. Successfully resized 0 buffers to 5

=== Applying Buffer Resize Optimization to size 6 ===

Optimization complete. Successfully resized 0 buffers to 6

=== Applying Buffer Resize Optimization to size 7 ===

Optimization complete. Successfully resized 0 buffers to 7

=== Applying Buffer Resize Optimization to size 8 ===

Optimization complete. Successfully resized 0 buffers to 8

=== Applying Buffer Resize Optimization to size 9 ===

Optimization complete. Successfully resized 0 buffers to 9

=== Applying Buffer Resize Optimization to size 10 ===

Optimization complete. Successfully resized 0 buffers to 10

=== Applying Buffer Resize Optimization to size 11 ===

Optimization complete. Successfully resized 0 buffers to 11

=== Applying Buffer Resize Optimization to size 12 ===

Optimization complete. Successfully resized 0 buffers to 12

=== Applying Buffer Resize Optimization to size 13 ===

Optimization complete. Successfully resized 0 buffers to 13
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.

=== After buffering ===
BASELINE Cycles: 4020

===== Target CP tuning =====
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
Baseline latency = 4020 cycles at 15 ns

--- Trying CP = 14.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 14.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 13.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 13.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 12.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 12.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 11.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 11.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 10.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 10.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 9.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 9.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 8.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 8.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 7.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 7.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 6.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4020 cycles

--- Trying CP = 6.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4021 cycles

--- Trying CP = 5.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4021 cycles

--- Trying CP = 5.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4024 cycles

--- Trying CP = 4.5 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4022 cycles

--- Trying CP = 4.0 ns ---
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
→ Latency = 4520 cycles
Latency degraded, stopping search.

 Best CP: 4.5 ns (latency = 4022 cycles)
Starting from 4.5 ns

=== Testing target CP = 4.5 ns ===
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
[Iteration 0] Slack = -1.127

Slack < 0 (-1.127), increasing CP to 5.33 and retrying.

[Iteration 1] Slack = 0.038

Slack >= 0 (0.038)

$$$ Target CP: 4.5 ns
$$$ Cycles: 4022
$$$ Real CP: 5.33 ns
$$$ Performance metric: 21437.26

=== Testing target CP = 4.0 ns ===
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
[Iteration 0] Slack = -1.458

Slack < 0 (-1.458), increasing CP to 5.16 and retrying.

[Iteration 1] Slack = -0.083

Slack < 0 (-0.083), increasing CP to 5.24 and retrying.

[Iteration 2] Slack = -0.073

Slack < 0 (-0.073), increasing CP to 5.31 and retrying.

[Iteration 3] Slack = 0.008

Slack >= 0 (0.008)

$$$ Target CP: 4.0 ns
$$$ Cycles: 4520
$$$ Real CP: 5.31 ns
$$$ Performance metric: 24001.20

=== Testing target CP = 3.5 ns ===
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
[Iteration 0] Slack = -0.639

Slack < 0 (-0.639), increasing CP to 3.84 and retrying.

[Iteration 1] Slack = 0.223

Slack >= 0 (0.223)

$$$ Target CP: 3.5 ns
$$$ Cycles: 6525
$$$ Real CP: 3.84 ns
$$$ Performance metric: 25056.00

=== Testing target CP = 3.0 ns ===
Running Handshake canonicalization...
Canonicalized Handshake.
Lowering Handshake to HW...
Lowered Handshake to HW.
[INFO] Exported RTL (vhdl)
[INFO] HDL generation succeeded
[INFO] Built kernel for IO gen.
[INFO] Ran kernel for IO gen.
[INFO] Launching Modelsim simulation
[INFO] Simulation succeeded
================================================================================
============== Dynamatic | Dynamic High-Level Synthesis Compiler ===============
======================== EPFL-LAP - v2.0.0 | March 2024 ========================
================================================================================


dynamatic> set-src skip/runs/run_2025-12-16_11-45-22/histogram-1/histogram.c
dynamatic> write-hdl
dynamatic> simulate
dynamatic> exit

Goodbye!
[Iteration 0] Slack = -1.063

Slack < 0 (-1.063), increasing CP to 3.76 and retrying.

[Iteration 1] Slack = -0.037

Slack < 0 (-0.037), increasing CP to 3.8 and retrying.

[Iteration 2] Slack = -0.055

Slack < 0 (-0.055), increasing CP to 3.86 and retrying.

[Iteration 3] Slack = 0.066

Slack >= 0 (0.066)

$$$ Target CP: 3.0 ns
$$$ Cycles: 6524
$$$ Real CP: 3.86 ns
$$$ Performance metric: 25182.64

===  Best Configuration Found ===
Target CP : 4.50 ns
Real   CP : 5.33 ns
Cycles    : 4022
Performance metric : 21437.26
